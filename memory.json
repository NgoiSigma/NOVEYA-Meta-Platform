import json
import os
import datetime

### –§–ê–ô–õ–´ –û–°–ù–û–í–ù–û–ô –õ–û–ì–ò–ö–ò

MEMORY_FILE = "memory.json"

class ProtonoveaMemory:
    def __init__(self):
        self.memory = self.load_memory()

    def load_memory(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏."""
        if os.path.exists(MEMORY_FILE):
            with open(MEMORY_FILE, "r", encoding="utf-8") as file:
                return json.load(file)
        return {"knowledge": [], "history": []}

    def save_memory(self):
        """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞–º—è—Ç–∏."""
        with open(MEMORY_FILE, "w", encoding="utf-8") as file:
            json.dump(self.memory, file, ensure_ascii=False, indent=4)

    def store_knowledge(self, entry):
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π –≤ –ø–∞–º—è—Ç—å."""
        self.memory["knowledge"].append(entry)
        self.save_memory()

    def store_history(self, interaction):
        """–ó–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π."""
        self.memory["history"].append({"timestamp": datetime.datetime.now().isoformat(), "data": interaction})
        self.save_memory()

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ü—Ä–æ—Ç–æ–Ω–æ–≤–µ–∏
protonovea_memory = ProtonoveaMemory()
protonovea_memory.store_knowledge("–ü—Ä–∏–º–µ—Ä –∑–Ω–∞–Ω–∏—è: –í–µ–∫—Ç–æ—Ä –≥–∞—Ä–º–æ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–∞–ª–∞–Ω—Å –ø–æ—Ç–æ–∫–æ–≤.")
protonovea_memory.store_history("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.")

print("üîπ –ü–∞–º—è—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∞.")
